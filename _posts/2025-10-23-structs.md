---
title: 'C++ Structs'
date: 2025-10-23
permalink: /posts/2025/10/structs/
tags:
  - Programming
---

C++ structs are useful for a number of things, as simple POD objects or for more
complex needs.

Overview
===

C++ structs are essentialy a class. The only difference is that all members are
public by default, meaning they can be accessed anywhere in a program.

Defining
---

In order to use a struct, you first need to define it and its members. A struct
member can be just about any other object in C++.

Some examples include:
  * integer (integral) types
    * booleans
    * ints
    * chars
  * pointers
  * other complex objects
    * structs
    * classes
    * unions
    * functions

etc, etc...

This is quite different from base C where a struct is simply an aggregate of
data. C++ was designed with object oriented programming in mind, so understandably,
structs reflect this design choice. They are primarly still used for data aggregation, 
however, they offer much more versatility while allowing for backwards
compatability with APIs exposed to base C code.

```c++
// Struct definition
struct Foo {
  int x;
  int y;
}

// Structs can be constructed with designated initializers
Foo foo{
  .x = 4,
  .y = 5,
};

// We can also make a struct with a constructor function
struct Bar {
  // This function is called whenever
  // we make a new Bar object
  Bar(int x, int y) : x(x), y(y) {}

  // This is the struct destructor, 
  // it is called whenever the object is destroyed
  ~Bar() {
    std::cout << "I am dying!" << std::endl;
  }

  // The objects members
  int x;
  int y;
}

// We can now create our object with
// list initialization
Bar bar{4, 5};
```

Using Structs
---

Once your struct is created, you can access its members anywhere in a program.

```c++
#include <iostream>

int main() {
  // We first construct our object
  Foo foo{
    .x = 4,
    .y = 5,
  };
  // We can access the member and print to terminal
  std::cout << foo.x << std::endl;

  // We can even use them in expressions
  std::cout << foo.y + 5 << std::endl;
  return 0;
}
```

Private Members
---

Members in a struct can be set to private, why you would do this I am not sure but
you definitely can.

```c++
#include <iostream>
struct PrivateFoo {
  PrivateFoo(int x): x(x) {}
  private:
    int x;
}

int main() {
  PrivateFoo pf{4};

  // This would not compile!
  std::cout << pf.x << std::endl;
  return 0;
}
```